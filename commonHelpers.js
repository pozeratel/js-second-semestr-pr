(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function s(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(t){if(t.ep)return;t.ep=!0;const e=s(t);fetch(t.href,e)}})();const L="https://app.ticketmaster.com/discovery/v2/events.json",$="SD3dPZKqy7tpTs7VjSSru5mwqnGlbhOg";async function w(c=0){var r;const s=await(await fetch(`${L}?apikey=${$}&page=${c}&size=20`)).json();return{events:((r=s._embedded)==null?void 0:r.events)||[],totalPages:s.page.totalPages,currentPage:s.page.number}}const h=document.querySelector(".events_collections"),a=document.querySelector(".pag_numbers");async function v(c=0){const{events:o,totalPages:s,currentPage:r}=await w(c);l.currentPage=r,l.totalPages=Math.min(s,50),y(o),E(),console.log("Events from API:",o)}function y(c=[]){if(!c.length){h.innerHTML="<p>No events</p>";return}const o=c.map(({images:s,name:r,dates:t,_embedded:e})=>{var p,f,d,g,m;const n=(p=e==null?void 0:e.venues)==null?void 0:p[0],i=((f=n==null?void 0:n.city)==null?void 0:f.name)||"",u=((d=n==null?void 0:n.address)==null?void 0:d.line1)||"",P=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(u+" "+i)}`;return`
        <li class="events_item">
        <div class="overflow"></div>
            <img class="events_img" src="${(g=s==null?void 0:s[2])==null?void 0:g.url}" alt="${r}" />
            <h3 class="events_title">${r}</h3>
            <p class="events__date">${((m=t==null?void 0:t.start)==null?void 0:m.localDate)||""}</p>
            <a class="event__link " href="${P}">
                ${i?i+", ":""}${u}
            </a>
        </li>
        `}).join("");h.innerHTML=o}y();const l={totalPages:0,currentPage:0};function E(){const{currentPage:c,totalPages:o}=l;a.innerHTML="";const s=e=>{const n=document.createElement("button");n.textContent=e+1,n.classList.add("page"),e===c&&n.classList.add("active"),n.addEventListener("click",()=>{v(e)}),a.appendChild(n)},r=Math.max(0,c-2),t=Math.min(o-1,c+2);r>0&&(s(0),a.appendChild(document.createTextNode("...")));for(let e=r;e<=t;e+=1)s(e);t<o-1&&(a.append("..."),s(o-1))}v(0);
//# sourceMappingURL=commonHelpers.js.map
